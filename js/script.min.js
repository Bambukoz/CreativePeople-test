"use strict";(()=>{const e=document.querySelector(".calculator"),t=e.querySelector("#amount"),r=e.querySelector("#progress-amount"),a=e.querySelector("#amount-text"),o=e.querySelector("#term"),l=e.querySelector("#progress-term"),n=e.querySelector("#term-text"),c=document.querySelector(".credit__result"),u=c.querySelector("#loan_rate"),s=c.querySelector("#monthly_payment"),d=e=>{let a=e.value/e.max;e===t?r.style.transform=`scale(${a}, 1)`:l.style.transform=a<=.5?`scale(${a-.16}, 1)`:a<=.7?`scale(${a-.08}, 1)`:`scale(${a-.05}, 1)`},y=()=>{const e=(()=>parseInt(t.value,10))(),r=(()=>parseInt(o.value,10))(),a=(()=>u.dataset.value/12/100)();return Math.round(e*(a+a/(Math.pow(a+1,r)-1))).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},m=()=>{s.textContent=`${y()} ₽`};m(),d(t),d(o),e.addEventListener("input",e=>{const r=e.target;if(e.target===t){const e=t.value.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");a.textContent=`${e} ₽`,d(r)}else n.textContent=`${o.value} мес.`,d(r)}),e.addEventListener("change",m)})();